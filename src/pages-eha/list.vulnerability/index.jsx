import { ButtonComponents } from "../../components.eha/button"
import { Form } from "../../components.eha/input"
import { SelectComponent } from "../../components.eha/select"
import { CardBox } from "../../components/layout/card"
import { LayoutDashboard } from "../../components/layout/dashboard.layout"
import { TitleContent } from "../../components/layout/title"
import { TableInline } from "../../components/table"
import { GetAndUpdateContext } from "../../model/context.function"
import { AddModal } from "../list.task.scan/add.modal"

const ListTaskVulnerability = () => {
    const { setStatus } = GetAndUpdateContext()

    return (
        <LayoutDashboard className="bg-[#101C26] text-[16px]">
            <div className="col-span-full flex-1 flex flex-col pb-10">
                <CardBox className="!p-0">
                    <div className="p-8 flex items-center justify-between border-b border-primary">
                        <div className="flex items-center gap-10">
                            <div>FUNCTION</div>
                            <div className="space-x-4 flex">
                                <ButtonComponents>
                                    IMPORT
                                </ButtonComponents>
                                <ButtonComponents click={() => {
                                    setStatus(d => ({
                                        ...d,
                                        ADDTASK: !d.ADDTASK
                                    }))
                                }}>
                                    [ + ] ADD
                                </ButtonComponents>

                            </div>
                        </div>
                        <div className="flex items-center gap-5">
                            <div>STATUS ASSET</div>
                            <SelectComponent></SelectComponent>
                        </div>
                    </div>
                </CardBox>
                <CardBox className="flex-1">
                    <TitleContent>
                        <div className="text-[24px] uppercase text-blue">vulnerabilities</div>
                    </TitleContent>
                    <div className="flex items-center gap-5">
                        <div className="text-[24px] uppercase text-blue">showing date range</div>
                        <Form.input type="date" rowColumn label={"short date"}></Form.input>
                        <Form.input type="date" rowColumn label={"end date"} ></Form.input>
                        <ButtonComponents>apply</ButtonComponents>
                    </div>
                    <TableInline border paggination hoverDisable columns={[
                        {
                            key: "id",
                            rowClass: "w-[50px]",
                        },
                        {
                            key: "asset_id",
                            rowClass: "w-[120px]",
                            title: "asset id"
                        },
                        {
                            key: "reference",
                            rowClass: "w-[120px]",
                            title: "reference"
                        },
                        {
                            key: "finding_name",
                            rowClass: "w-[120px]",
                            title: "finding name"
                        },
                        {
                            key: "risk_level",
                            rowClass: "w-[120px]",
                            title: "risk level"
                        },
                        {
                            key: "stage",
                            rowClass: "w-[220px]",
                            title: "stage"
                        },
                        {
                            key: "asset_name",
                            rowClass: "w-[120px]",
                            title: "asset name"
                        },
                        {
                            key: "addresses",
                            rowClass: "w-[120px]",
                            title: "addresses"
                        },
                        {
                            key: "protected_site",
                            title: "PROTECTED SITE"
                        },
                    ]}
                        data={
                            new Array(20).fill({
                                id: "EH-1",
                                asset_id: "-",
                                reference: "h194",
                                finding_name: "url-parse",
                                risk_level : "high",
                                stage: "awaiting remediation",
                                asset_name: "home sample",
                                addresses: "192.168.0.1",
                                protected_site: "site_a",
                           
                            })
                        }></TableInline>
                </CardBox>
            </div >
            <AddModal></AddModal>
        </LayoutDashboard >
    )
}

export default ListTaskVulnerability